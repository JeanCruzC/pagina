<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Generador de Turnos v6.2 ‚Äî Sistema Corregido</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}">
  </head>
  <body>
    <div class="container" style="max-width:1400px; margin:32px auto;">
      <div class="titlebar">
        <h1>Generador de Turnos v6.2 ‚Äî Sistema Corregido</h1>
      </div>
      <div class="spacer"></div>
      <div class="row">
        <!-- Sidebar Config -->
        <div class="card">
          <div class="section-title">‚Ä¢ Configuraci√≥n</div>
          <form action="/generador" method="POST" enctype="multipart/form-data" id="cfgForm">
            <div class="group">
              <label>Iteraciones JEAN</label>
              <input type="number" name="iterations" value="3" min="1">
            </div>
            <div class="group">
              <label>Tiempo solver (s)</label>
              <input type="number" name="solver_time" value="120" min="0">
              <div class="small muted">0 = sin l√≠mite (no recomendado en modo s√≠ncrono)</div>
            </div>
            <div class="group">
              <label>Cobertura objetivo (%)</label>
              <input type="number" name="coverage" value="98" min="80" max="100">
            </div>
            <div class="split">
              <div class="group">
                <label>Break desde inicio (horas)</label>
                <input type="number" step="0.5" name="break_from_start" value="2">
              </div>
              <div class="group">
                <label>Break antes del fin (horas)</label>
                <input type="number" step="0.5" name="break_from_end" value="2">
              </div>
            </div>
            <div class="divider"></div>
            <div class="group">
              <label>Tipos de Contrato</label><br>
              <input type="checkbox" name="use_ft" checked> <span class="muted">Full Time (48h)</span><br>
              <input type="checkbox" name="use_pt" checked> <span class="muted">Part Time (24h)</span>
            </div>
            <div class="divider"></div>
            <div class="group">
              <label>Perfil de Optimizaci√≥n</label>
              <select name="optimization_profile">
                <option value="JEAN" selected>JEAN</option>
                <option value="Estandar">Est√°ndar</option>
                <option value="Aprendizaje Adaptativo">Aprendizaje Adaptativo</option>
              </select>
            </div>
            <div class="divider"></div>
            <div class="group">
              <label>Archivo de demanda (.xlsx)</label>
              <input type="file" name="file" accept=".xlsx,.xls" required>
            </div>
            <button class="btn" type="submit">üöÄ Ejecutar Optimizaci√≥n</button>
          </form>
        </div>

        <!-- Panel derecho -->
        <div>
          <div class="card">
            <span class="pill">Modo Streamlit (s√≠ncrono)</span>
            <div class="spacer"></div>
            <div class="muted">Sube tu Excel y se calcular√° todo en esta misma p√°gina (sin jobs ni polling).</div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>

