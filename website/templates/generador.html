<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <title>Generador de Turnos v6.2 - Sistema Corregido</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body{background:#0e1117;color:#e6e6e6}
    .card{background:#161a23;border:1px solid #2b2f3a}
    .form-label{font-weight:600}
    .sidebar{min-width:290px}
    input[type="number"], input[type="text"], input[type="file"], select{background:#0e1117;color:#e6e6e6;border:1px solid #2b2f3a}
    .btn-primary{background:#1565c0;border:none}
  </style>
</head>
<body>
<div class="container-fluid py-3">
  <h3 class="mb-3">Generador de Turnos v6.2 - Sistema Corregido</h3>

  <form action="/generador" method="POST" enctype="multipart/form-data">
    <div class="row g-3">
      <!-- izquierda: configuraci√≥n (equivalente al sidebar de Streamlit) -->
      <div class="col-12 col-md-3">
        <div class="card sidebar">
          <div class="card-body">
            <h5 class="card-title">‚öôÔ∏è Configuraci√≥n</h5>

            <label class="form-label mt-2">Iteraciones m√°ximas</label>
            <input type="number" name="max_iter" value="30" min="1" max="100" class="form-control">

            <label class="form-label mt-2">Tiempo solver (s)</label>
            <input type="number" name="time_solver" value="0" min="0" max="600" class="form-control">

            <label class="form-label mt-2">Mostrar progreso solver</label>
            <select name="solver_msg" class="form-select">
              <option value="1" selected>1</option>
              <option value="0">0</option>
            </select>

            <label class="form-label mt-2">Threads solver (PuLP)</label>
            <input type="number" name="solver_threads" value="1" min="1" class="form-control">

            <label class="form-label mt-2">Cobertura objetivo (%)</label>
            <input type="number" name="coverage" value="98" min="95" max="100" class="form-control">

            <div class="form-check mt-2">
              <input class="form-check-input" type="checkbox" name="verbose" value="1" id="v1">
              <label class="form-check-label" for="v1">Modo verbose/debug</label>
            </div>

            <hr>
            <h6>üìã Tipos de Contrato</h6>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="use_ft" value="1" id="ft1" checked>
              <label class="form-check-label" for="ft1">Full Time (48h)</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="use_pt" value="1" id="pt1" checked>
              <label class="form-check-label" for="pt1">Part Time (24h)</label>
            </div>

            <div id="ftcfg" class="mt-2">
              <h6>‚è∞ Turnos FT Permitidos</h6>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" name="allow_8h" value="1" id="a8" checked>
                <label class="form-check-label" for="a8">8 horas (6 d√≠as)</label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" name="allow_10h8" value="1" id="a108">
                <label class="form-check-label" for="a108">10h + d√≠a de 8h (5 d√≠as)</label>
              </div>
            </div>

            <h6 class="mt-2">üß∞ Configuraci√≥n de Breaks</h6>
            <label class="form-label">Break desde inicio (horas)</label>
            <input type="number" step="0.5" name="break_from_start" value="2" class="form-control">
            <label class="form-label mt-2">Break antes del fin (horas)</label>
            <input type="number" step="0.5" name="break_from_end" value="2" class="form-control">

            <h6 class="mt-2">‚è≥ Turnos PT Permitidos</h6>
            <div class="form-check"><input class="form-check-input" type="checkbox" name="allow_pt_4h" value="1" id="p4" checked><label class="form-check-label" for="p4">4 horas (6 d√≠as)</label></div>
            <div class="form-check"><input class="form-check-input" type="checkbox" name="allow_pt_5h" value="1" id="p5" checked><label class="form-check-label" for="p5">5 horas (6 d√≠as)</label></div>
            <div class="form-check"><input class="form-check-input" type="checkbox" name="allow_pt_6h" value="1" id="p6"><label class="form-check-label" for="p6">6 horas (4 d√≠as)</label></div>
          </div>
        </div>
      </div>

      <!-- derecha: carga y bot√≥n -->
      <div class="col-12 col-md-9">
        <div class="card">
          <div class="card-body">
            <h5>Optimizaci√≥n</h5>
            <label class="form-label">Sube tu Excel de demanda (Requerido.xlsx)</label>
            <input class="form-control" type="file" name="file" accept=".xlsx,.xls" required>
            <div class="mt-3">
              <button class="btn btn-primary btn-lg" type="submit">üöÄ Ejecutar Optimizaci√≥n</button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </form>
</div>
</body>
</html>
